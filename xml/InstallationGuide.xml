<?xml version="1.0"?>
<article xmlns="http://docbook.org/ns/docbook" version="5.0" xml:lang="en" xml:id="art-ha-install-quick"><info><title>Installation and Setup Quick Start</title><subtitle><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise
    High Availability Extension</phrase></phrase>
  <phrase role="productnumber"><phrase os="sles">12
  SP4</phrase></phrase></subtitle>
  <productnumber><phrase role="productnumber"><phrase os="sles">12
    SP4</phrase></phrase></productnumber>
  <productname><phrase role="productname"><phrase os="sles">SUSE Linux
     Enterprise High Availability Extension</phrase></phrase></productname>
  <date><?dbtimestamp?></date>
  <authorgroup xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0">
   <author>
    <personname>
     <firstname>Tanja</firstname>
     <surname>Roth</surname>
    </personname>
   </author>
   <author>
    <personname>
     <firstname>Thomas</firstname>
     <surname>Schraitle</surname>
    </personname>
   </author>
  </authorgroup>
  <abstract>
   <para> This document guides you through the setup of a very basic two-node
    cluster, using the bootstrap scripts provided by the <systemitem class="resource">ha-cluster-bootstrap</systemitem> package. This includes
    the configuration of a virtual IP address as a cluster resource and the use
    of SBD on shared storage as fencing mechanism.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker>
    <dm:url>https://bugzilla.suse.com/enter_bug.cgi</dm:url>
    <dm:product>SUSE Linux Enterprise High Availability Extension 12
     SP4</dm:product>
    <dm:component>Documentation</dm:component>
   </dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 
 
 
<section xml:id="sec-ha-inst-quick-usage-scenario"><info><title>Usage Scenario</title></info>
  
  <para> The procedures in this document will lead to a minimal setup of a
    two-node cluster with the following properties: </para>
  <itemizedlist>
    <listitem>
      <para> Two nodes: <systemitem class="server">alice</systemitem> (IP:
          <systemitem class="ipaddress">192.168.1.1</systemitem>) and
          <systemitem class="server">bob</systemitem> (IP: <systemitem class="ipaddress">192.168.1.2</systemitem>), connected to each other
        via network. </para>
    </listitem>
    <listitem>
      <para> A floating, virtual IP address (<systemitem class="ipaddress">192.168.2.1</systemitem>) which allows clients to connect to the
        service no matter which physical node it is running on. </para>
    </listitem>
    <listitem>
      <para>A shared storage device, used as SBD fencing mechanism. This avoids
        split brain scenarios. </para>
    </listitem>
    <listitem>
      <para> Failover of resources from one node to the other if the active host
        breaks down (<emphasis>active/passive</emphasis> setup). </para>
    </listitem>
  </itemizedlist>
  <para> After setup of the cluster with the bootstrap scripts, we will monitor
    the cluster with the graphical HA Web Konsole (Hawk), one of the cluster
    management tools included with <phrase role="roductnamereg"><phrase os="sles">SUSE® Linux Enterprise High Availability
      Extension</phrase></phrase>. As a basic test of whether failover of
    resources works, we will put one of the nodes into standby mode and check if
    the virtual IP address is migrated to the second node. </para>
  <para> You can use the two-node cluster for testing purposes or as a minimal
    cluster configuration that you can extend later on. Before using the cluster
    in a production environment, modify it according to your requirements.
  </para>
</section><section xml:id="sec-ha-inst-quick-req"><info><title>System Requirements</title></info>
  
  <para> This section informs you about the key system requirements for the
    scenario described in <xref linkend="sec-ha-inst-quick-usage-scenario"/>. If
    you want to adjust the cluster for use in a production environment, read the
    full list of <citetitle>System Requirements and Recommendations</citetitle>
    in the <citetitle>Administration Guide</citetitle> for <phrase role="roductnamereg"><phrase os="sles">SUSE® Linux Enterprise High
        Availability Extension</phrase></phrase>: <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/documentation/sle-ha-12/book_sleha/data/cha_ha_requirements.html"/>. </para>
  <variablelist xml:id="vl-ha-inst-quick-req-hw">
    <title>Hardware Requirements</title>
    <varlistentry>
      <term>Servers</term>
      <listitem>
        <para> Two servers with software as specified in <xref linkend="il-ha-inst-quick-req-sw"/>. </para>
        <para> The servers can be bare metal or virtual machines. They do not
          require identical hardware (memory, disk space, etc.), but they must
          have the same architecture. Cross-platform clusters are not supported. </para>
        <!--<para>
     The servers can be bare metal or virtual machines. They do not require
     identical hardware (memory, disk space, etc.), but they must have the
     same architecture. Cross-platform clusters are not supported.
     </para>-->
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Communication Channels</term>
      <listitem>
        <para> At least two TCP/IP communication media per cluster node. The
          network equipment must support the communication means you want to use
          for cluster communication: multicast or unicast. The communication
          media should support a data rate of 100 Mbit/s or higher. For a
          supported cluster setup two or more redundant communication paths are
          required. This can be done via:</para>
        <itemizedlist>
          <listitem>
            <para> Network Device Bonding (to be preferred). </para>
          </listitem>
          <listitem>
            <para> A second communication channel in Corosync. </para>
          </listitem>
          <listitem>
            <para> Network fault tolerance on infrastructure layer (for example,
              hypervisor). </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Node Fencing/STONITH</term>
      <listitem>
        <para> To avoid a <quote>split brain</quote> scenario, clusters need a
          node fencing mechanism. In a split brain scenario, cluster nodes are
          divided into two or more groups that do not know about each other
          (because of a hardware or software failure or because of a cut network
          connection). A fencing mechanism isolates the node in question
          (usually by resetting or powering off the node). This is also called
          STONITH (<quote>Shoot the other node in the head</quote>). A node
          fencing mechanism can be either a physical device (a power switch) or
          a mechanism like SBD (STONITH by disk) in combination with a watchdog.
          Using SBD requires shared storage. </para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para> On all nodes that will be part of the cluster the following software
    must be installed: </para>
  <itemizedlist xml:id="il-ha-inst-quick-req-sw">
    <title>Software Requirements</title>
    <listitem>
      <para> SUSE® Linux Enterprise Server <phrase role="productnumber"><phrase os="sles">12 SP4</phrase></phrase> (with all available online
        updates) </para>
    </listitem>
    <listitem>
      <para>
        <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High
            Availability Extension</phrase></phrase>
        <phrase role="productnumber"><phrase os="sles">12 SP4</phrase></phrase>
        (with all available online updates) </para>
    </listitem>
  </itemizedlist>
  <variablelist xml:id="vl-ha-inst-quick-req-other">
    <title>Other Requirements and Recommendations</title>
    <varlistentry>
      <term>Time Synchronization</term>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para> Cluster nodes must synchronize to an NTP server outside the
          cluster. For more information, see the <citetitle>Administration
            Guide</citetitle> for SUSE Linux Enterprise Server <phrase role="productnumber"><phrase os="sles">12 SP4</phrase></phrase>:
            <link xlink:href="http://www.suse.com/documentation/sles-12/book_sle_admin/data/cha_netz_xntp.html"/>. </para>
        <para> If nodes are not synchronized, the cluster may not work properly.
          In addition, log files and cluster reports are very hard to analyze
          without synchronization. If you use the bootstrap scripts, you will be
          warned if NTP is not configured yet. </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Host Name and IP Address</term>
      <listitem>
        <itemizedlist>
          <listitem>
            <para> Use static IP addresses. </para>
          </listitem>
          <listitem>
            <para> List all cluster nodes in the <filename>/etc/hosts</filename>
              file with their fully qualified host name and short host name. It
              is essential that members of the cluster can find each other by
              name. If the names are not available, internal cluster
              communication will fail. </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
    <varlistentry xml:id="vle-ha-req-ssh">
      <term>SSH</term>
      <listitem>
        <para> All cluster nodes must be able to access each other via SSH.
          Tools like <command>crm report</command> (for troubleshooting) and
          Hawk2's <guimenu>History Explorer</guimenu> require passwordless SSH
          access between the nodes, otherwise they can only collect data from
          the current node. </para>
        <para> If you use the bootstrap scripts for setting up the cluster, the
          SSH keys will automatically be created and copied. </para>
      </listitem>
    </varlistentry>
  </variablelist>
</section><section xml:id="sec-ha-inst-quick-bootstrap"><info><title>Overview of the Bootstrap Scripts</title></info>
 
 <para> All commands from the <package>ha-cluster-bootstrap</package> package
  execute bootstrap scripts that require only a minimum of time and manual
  intervention. </para>
 <itemizedlist>
  <listitem>
   <para> With <command>ha-cluster-init</command>, define the basic parameters
    needed for cluster communication. This leaves you with a running one-node
    cluster. </para>
  </listitem>
  <listitem>
   <para> With <command>ha-cluster-join</command>, add more nodes to your
    cluster. </para>
  </listitem>
  <listitem>
   <para> With <command>ha-cluster-remove</command>, remove nodes from your
    cluster. </para>
  </listitem>
 </itemizedlist>
 <para> All bootstrap scripts log to
   <filename>/var/log/ha-cluster-bootstrap.log</filename>. Check this file for
  any details of the bootstrap process. Any options set during the bootstrap
  process can be modified later with the YaST cluster module. See <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/documentation/sle-ha-12/book_sleha/data/sec_ha_install_manual.html"/> for details. </para>
 <para>Each script comes with a man page covering the range of functions, the
  script's options, and an overview of the files the script can create and
  modify. </para>
 <para> The bootstrap script <command>ha-cluster-init</command> checks and
  configures the following components: </para>
 <variablelist>
  <varlistentry>
   <term>NTP</term>
   <listitem>
    <para> If NTP has not been configured to start at boot time, a message
     appears. </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>SSH</term>
   <listitem>
    <para>It creates SSH keys for passwordless login between cluster nodes.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Csync2</term>
   <listitem>
    <para> It configures Csync2 to replicate configuration files across all
     nodes in a cluster. </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Corosync</term>
   <listitem>
    <para>It configures the cluster communication system.</para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>SBD/Watchdog</term>
   <listitem>
    <para>It checks if a watchdog exists and asks you whether to configure SBD
     as node fencing mechanism.</para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Virtual Floating IP</term>
   <listitem>
    <para>It asks you whether to configure a virtual IP address for cluster
     administration with Hawk2.</para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Firewall</term>
   <listitem>
    <para>It opens the ports in the firewall that are needed for cluster
     communication.</para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Cluster Name</term>
   <listitem>
    <para>It defines a name for the cluster, by default
       <systemitem>cluster<replaceable>NUMBER</replaceable></systemitem>. This
     is optional and mostly useful for Geo clusters. Usually, the cluster name
     reflects the location and makes it easier to distinguish a site inside a
     Geo cluster.</para>
   </listitem>
  </varlistentry>
 </variablelist>
</section><section xml:id="sec-ha-inst-quick-installation"><info><title>Installing SUSE Linux Enterprise Server and High Availability
    Extension</title></info>
  
  <para> The packages for configuring and managing a cluster with the High
    Availability Extension are included in the <literal>High
      Availability</literal> installation pattern. This pattern is only
    available after <phrase role="productname"><phrase os="sles">SUSE Linux
        Enterprise High Availability Extension</phrase></phrase> has been
    installed as an extension to SUSE® Linux Enterprise Server. </para>
  <para> For information on how to install extensions, see the <citetitle>SUSE
      Linux Enterprise <phrase role="productnumber"><phrase os="sles">12
          SP4</phrase></phrase> Deployment Guide</citetitle>: <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/documentation/sles-12/book_sle_deployment/data/cha_add-ons.html"/>. </para>
  <para>If the pattern is not installed yet, install it with the command
      <command>zypper install -t pattern ha_sles</command>. Alternatively,
    install the pattern with YaST. Proceed as follows: </para>
  <procedure xml:id="pro-ha-inst-quick-pattern">
    <title>Installing the High Availability Pattern</title>
    <step>
      <para> Start YaST and select <menuchoice>
          <guimenu>Software</guimenu>
          <guimenu>Software Management</guimenu>
        </menuchoice>. </para>
    </step>
    <step>
      <para> Click the <guimenu>Patterns</guimenu> tab and activate the
          <guimenu>High Availability</guimenu> pattern in the pattern list.
        <!--SLE HA GEO: <guimenu>GEO Clustering for High Availability</guimenu>-->
      </para>
    </step>
    <step>
      <para> Click <guimenu>Accept</guimenu> to start installing the packages.
      </para>
    </step>
    <step>
      <para> Install the High Availability pattern on <emphasis>all</emphasis>
        machines that will be part of your cluster. </para>
      <note>
        <title>Installing Software Packages on All Parties</title>
        <para> For an automated installation of SUSE Linux Enterprise Server
            <phrase role="productnumber"><phrase os="sles">12
            SP4</phrase></phrase> and <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability
              Extension</phrase></phrase>
          <phrase role="productnumber"><phrase os="sles">12
            SP4</phrase></phrase> use AutoYaST to clone existing nodes. For more
          information see <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/documentation/sle-ha-12/book_sleha/data/sec_ha_installation_autoyast.html"/>. </para>
      </note>
    </step>
    <step>
      <para> Register the machines at SUSE Customer Center. Find more
        information at <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/doc/sles-12/book_sle_deployment/data/sec_update_registersystem.html"/>. </para>
    </step>
  </procedure>
</section><section xml:id="sec-ha-inst-quick-sbd"><info><title>Using SBD as Fencing Mechanism</title></info>
  
  <!-- For more information, see:
   * https://trello.com/c/rclDZHPR
   * https://github.com/ClusterLabs/sbd/blob/master/man/sbd.8.pod
  -->
  <!--taroth 2016-07-21: the following is copied from
    /usr/sbin/ha-cluster-init: If you have shared storage, for example a SAN or
    iSCSI target, you can use it to avoid split brain scenarios-->
  <para> If you have shared storage, for example, a SAN (Storage Area Network),
    you can use it to avoid split brain scenarios by configuring SBD as node
    fencing mechanism. SBD uses watchdog support and the
      <literal>external/sbd</literal> STONITH resource agent. </para>
<section xml:id="sec-ha-inst-quick-sbd-req"><info><title>Requirements for SBD</title></info>
 
 <para> During setup of the first node with <command>ha-cluster-init</command>,
  you can decide whether to use SBD. If yes, you need to enter the path to the
  shared storage device. By default, <command>ha-cluster-init</command> will
  automatically create a small partition on the device to be used for SBD. </para>
 <para>To use SBD, the following requirements must be met:</para>
 <itemizedlist>
  <listitem>
   <para>The path to the shared storage device must be persistent and consistent
    across all nodes in the cluster. Use stable device names such as
     <filename>/dev/disk/by-id/dm-uuid-part1-mpath-abcedf12345</filename>.
   </para>
  </listitem>
  <listitem>
   <para> The SBD device <emphasis>must not</emphasis> use host-based RAID,
    cLVM2, nor reside on a DRBD* instance. </para>
  </listitem>
 </itemizedlist>
 <para> For details of how to set up shared storage, refer to the
   <citetitle>Storage Administration Guide</citetitle> for SUSE Linux Enterprise
  Server <phrase role="productnumber"><phrase os="sles">12
  SP4</phrase></phrase>: <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/documentation/sles-12/stor_admin/data/stor_admin.html"/>. </para>
</section><section xml:id="sec-ha-inst-quick-sbd-setup"><info><title>Setting Up Softdog Watchdog and SBD</title></info>
 
 <!--Taken from ha_storage_protection.xml (pro.ha.storage.protect.watchdog)?-->
 <para> In SUSE Linux Enterprise Server, watchdog support in the kernel is
  enabled by default: It ships with several kernel modules that provide
  hardware-specific watchdog drivers. The High Availability Extension uses the
  SBD daemon as the software component that <quote>feeds</quote> the watchdog. </para>
 <para> The following procedure uses the <systemitem>softdog</systemitem>
  watchdog. </para>
 <important>
  <title>Softdog Limitations</title>
  <para> The softdog driver assumes that at least one CPU is still running. If
   all CPUs are stuck, the code in the softdog driver that should reboot the
   system will never be executed. In contrast, hardware watchdogs keep working
   even if all CPUs are stuck. </para>
  <para>Before using the cluster in a production environment, it is highly
   recommended to replace the <systemitem>softdog</systemitem> module with the
   respective hardware module that best fits your hardware. </para>
  <para>However, if no watchdog matches your hardware, <systemitem class="resource">softdog</systemitem> can be used as kernel watchdog
   module.</para>
 </important>
 <procedure xml:id="pro-ha-inst-quick-sbd-setup">
  <step>
   <para> Create a persistent, shared storage as described in <xref linkend="sec-ha-inst-quick-sbd-req"/>. </para>
  </step>
  <step>
   <para> Enable the softdog watchdog: </para>
   <!-- See /usr/lib/ha-cluster-functions -->
   <screen><prompt role="root">root # </prompt><command>echo</command> softdog &gt; /etc/modules-load.d/watchdog.conf
<prompt role="root">root # </prompt><command>systemctl</command> restart systemd-modules-load</screen>
  </step>
  <step>
   <!--for the records: <remark>toms 2016-08-09: krig: "The script uses wdctl to check for the
      watchdog, so it should catch the case where the node is created but no
      module is loaded. However, I am not sure it'll be able to spot the case
      where the wrong module is loaded." (ha-devel, 2016-08-08)</remark>-->
   <para>Test if the softdog module is loaded correctly: </para>
   <screen><prompt role="root">root # </prompt><command>lsmod</command> | egrep "(wd|dog)"
softdog                16384  1</screen>
  </step>
  <step>
   <para> On <systemitem class="server">bob</systemitem>, initialize the SBD
    partition: </para>
   <screen><prompt role="root">root # </prompt><command>sbd</command> -d /dev/<replaceable>SBDDEVICE</replaceable> create</screen>
  </step>
  <step>
   <para> Start SBD to listen on the SBD device: </para>
   <screen><prompt role="root">root # </prompt><command>sbd</command> -d /dev/<replaceable>SBDDEVICE</replaceable> watch</screen>
  </step>
  <step>
   <para> On <systemitem class="server">alice</systemitem>, send a test message: </para>
   <screen><prompt role="root">root # </prompt><command>sbd</command> -d /dev/<replaceable>SBDDEVICE</replaceable> message bob test<!--
Sep 22 17:01:00 &node1; sbd: [13412]: info: Received command test from &node1;--></screen>
   <remark>toms 2016-07-22: What to do when the test message fails? How to
    debug?</remark>
  </step>
  <step>
   <para> On <systemitem class="server">bob</systemitem>, check the status with
     <command>systemctl</command> and you should see the received message: </para>
   <screen><prompt role="root">root # </prompt><command>systemctl</command> status sbd
[...]
info: Received command test from alice on disk <replaceable>SBDDEVICE</replaceable></screen>
  </step>
  <step>
   <para> Stop watching the SBD device on <systemitem class="server">bob</systemitem> with: </para>
   <screen><prompt role="root">root # </prompt><command>systemctl</command> stop sbd</screen>
  </step>
 </procedure>
 <para> Testing the SBD fencing mechanism for proper function in case of a split
  brain situation is highly recommended. Such a test can be done by blocking the
  Corosync cluster communication. </para>
</section></section><section xml:id="sec-ha-inst-quick-setup-1st-node"><info><title>Setting Up the First Node</title></info>
 
 <para> Set up the first node with the <command>ha-cluster-init</command>
  script. This requires only a minimum of time and manual intervention. </para>
 <procedure xml:id="pro-ha-inst-quick-setup-ha-cluster-init">
  <title>Setting Up the First Node (<systemitem class="server">alice</systemitem>) with <command>ha-cluster-init</command></title>
  <step>
   <para> Log in as <systemitem class="username">root</systemitem> to the
    physical or virtual machine you want to use as cluster node. </para>
  </step>
  <step>
   <para> Start the bootstrap script by executing: </para>
   <screen><prompt role="root">root # </prompt><command>ha-cluster-init</command> --name <replaceable>CLUSTERNAME</replaceable></screen>
   <para>Replace the <replaceable>CLUSTERNAME</replaceable> placeholder with a
    meaningful name, like the geographical location of your cluster (for
    example, <literal>amsterdam</literal>). This is especially helpful if you
    want to create a Geo cluster later on, as it simplifies the identification
    of a site. If you run the command without the <option>--name</option>
    option, the default name is <literal>hacluster</literal>. </para>
   <remark>toms 2016-08-11: the following para relates to (a) FATE#320604 allow
    unicast, (b) FATE#320605 identify AWS and use unicast</remark>
   <para> If you need unicast instead of multicast (the default) for your
    cluster communication, use the option <option>-u</option>. After
    installation, find the value <literal>udpu</literal> in the file
     <filename>/etc/corosync/corosync.conf</filename>. If
     <command>ha-cluster-init</command> detects a node running on Amazon Web
    Services (AWS), the script will use unicast automatically as default for
    cluster communication. </para>
   <para> The scripts checks for NTP configuration and a hardware watchdog
    service. It generates the public and private SSH keys used for SSH access
    and Csync2 synchronization and starts the respective services. </para>
   <!--<itemizedlist>
     <listitem>
      <para>Checks for a hardware watchdog device.</para>
     </listitem>
     <listitem>
      <para>
       Generate the public and private SSH keys, used for SSH access and
       &csync; syncronization.
      </para>
     </listitem>
     <listitem>
      <para>Start the SSH and &csync; services.</para>
     </listitem>
    </itemizedlist>-->
  </step>
  <step>
   <para> Configure the cluster communication layer (Corosync): </para>
   <substeps>
    <step>
     <para> Enter a network address to bind to. By default, the script will
      propose the network address of <systemitem>eth0</systemitem>.
      Alternatively, enter a different network address, for example the address
      of <literal>bond0</literal>. </para>
    </step>
    <step>
     <para> Enter a multicast address. The script proposes a random address that
      you can use as default. Of course, your particular network needs to
      support this multicast address. </para>
    </step>
    <step>
     <para> Enter a multicast port. The script proposes <literal>5405</literal>
      as default. </para>
    </step>
   </substeps>
  </step>
  <step>
   <para> Finally, the script will start the Pacemaker service to bring the
    one-node cluster online and enable Hawk2. The URL to use for Hawk2 is
    displayed on the screen. </para>
  </step>
  <step>
   <para> Set up SBD as node fencing mechanism:</para>
   <substeps>
    <step>
     <para>Confirm with <literal>y</literal> that you want to use SBD.</para>
    </step>
    <step>
     <para>Enter a persistent path to the partition of your block device that
      you want to use for SBD, see <xref linkend="sec-ha-inst-quick-sbd"/>. The
      path must be consistent across all nodes in the cluster.</para>
    </step>
   </substeps>
  </step>
  <step xml:id="st-ha-cluster-init-ip">
   <!-- taroth 2015-09-22: fate#318549: cluster-init: configure virtual IP for HAWK  -->
   <para>Configure a virtual IP address for cluster administration with Hawk2.
    (We will use this virtual IP resource for testing successful failover later
    on).</para>
   <substeps>
    <step>
     <para>Confirm with <literal>y</literal> that you want to configure a
      virtual IP address.</para>
    </step>
    <step>
     <para>Enter an unused IP address that you want to use as administration IP
      for Hawk2: <literal>192.168.2.1</literal>
     </para>
     <para>Instead of logging in to an individual cluster node with Hawk2, you
      can connect to the virtual IP address.</para>
    </step>
   </substeps>
  </step>
 </procedure>
 <para> You now have a running one-node cluster. To view its status, proceed as
  follows: </para>
 <procedure xml:id="pro-ha-inst-quick-hawk2-login">
  <title>Logging In to the Hawk2 Web Interface</title>
  <step>
   <para> On any machine, start a Web browser and make sure that JavaScript and
    cookies are enabled. </para>
  </step>
  <step>
   <para> As URL, enter the IP address or host name of any cluster node running
    the Hawk Web service. Alternatively, enter the address of the virtual IP
    address that you configured in <xref linkend="st-ha-cluster-init-ip"/> of
     <xref linkend="pro-ha-inst-quick-setup-ha-cluster-init"/>: </para>
   <screen>https://<replaceable>HAWKSERVER</replaceable>:7630/</screen>
   <note>
    <title>Certificate Warning</title>
    <para> If a certificate warning appears when you try to access the URL for
     the first time, a self-signed certificate is in use. Self-signed
     certificates are not considered trustworthy by default. </para>
    <para> Ask your cluster operator for the certificate details to verify the
     certificate. </para>
    <para> To proceed anyway, you can add an exception in the browser to bypass
     the warning. </para>
    <!--FIXME: HAWK1 - see https://bugzilla.suse.com/show_bug.cgi?id=979095
      <para> For information on how to replace the self-signed certificate with a
      certificate signed by an official Certificate Authority, refer to
      <xref linkend="vle-ha-hawk-certificate"/>.</para>-->
   </note>
  </step>
  <step>
   <para> On the Hawk2 login screen, enter the <guimenu>Username</guimenu> and
     <guimenu>Password</guimenu> of the user that has been created during the
    bootstrap procedure (user <systemitem class="username">hacluster</systemitem>, password <literal>linux</literal>).</para>
   <important>
    <title>Secure Password</title>
    <para>Replace the default password with a secure one as soon as possible: </para>
    <screen><prompt role="root">root # </prompt><command>passwd</command> hacluster</screen>
   </important>
  </step>
  <step>
   <para> Click <guimenu>Log In</guimenu>. After login, the Hawk2 Web interface
    shows the Status screen by default, displaying the current cluster status at
    a glance: </para>
   <figure xml:id="fig-ha-inst-quick-one-node-status">
    <title>Status of the One-Node Cluster in Hawk2</title>
    <mediaobject>
     <imageobject>
      <imagedata width="80%" fileref="installquick-one-nodecluster.png"/>
     </imageobject>
    </mediaobject>
   </figure>
  </step>
 </procedure>
</section><section xml:id="sec-ha-inst-quick-setup-2nd-node"><info><title>Adding the Second Node</title></info>
 
 <para> If you have a one-node cluster up and running, add the second cluster
  node with the <command>ha-cluster-join</command> bootstrap script, as
  described in <xref linkend="pro-ha-inst-quick-setup-ha-cluster-join" xrefstyle="select:label nopage"/>. The script only needs access to an
  existing cluster node and will complete the basic setup on the current machine
  automatically. For details, refer to the <command>ha-cluster-join</command>
  man page. </para>
 <para> The bootstrap scripts take care of changing the configuration specific
  to a two-node cluster, for example, SBD and Corosync. </para>
 <procedure xml:id="pro-ha-inst-quick-setup-ha-cluster-join">
  <title>Adding the Second Node (<systemitem class="server">bob</systemitem>)
   with <command>ha-cluster-join</command></title>
  <step>
   <para> Log in as <systemitem class="username">root</systemitem> to the
    physical or virtual machine supposed to join the cluster. </para>
  </step>
  <step>
   <para> Start the bootstrap script by executing: </para>
   <screen><prompt role="root">root # </prompt><command>ha-cluster-join</command></screen>
   <para> If NTP has not been configured to start at boot time, a message
    appears. The script also checks for a hardware watchdog device (which is
    important in case you want to configure SBD) and warns you if none is
    present. </para>
  </step>
  <step>
   <para> If you decide to continue anyway, you will be prompted for the IP
    address of an existing node. Enter the IP address of the first node
     (<systemitem class="server">alice</systemitem>, <systemitem class="ipaddress">192.168.1.1</systemitem>). </para>
  </step>
  <step>
   <para> If you have not already configured a passwordless SSH access between
    both machines, you will also be prompted for the <systemitem class="username">root</systemitem> password of the existing node. </para>
   <para> After logging in to the specified node, the script will copy the
    Corosync configuration, configure SSH and Csync2, and will bring the current
    machine online as new cluster node. Apart from that, it will start the
    service needed for Hawk2. <!--
     If you have configured shared storage with OCFS2, it will also
     automatically create the mount point directory for the OCFS2 file system.
     -->
   </para>
  </step>
 </procedure>
 <para> Check the cluster status in Hawk2. Under <menuchoice>
   <guimenu>Status</guimenu>
   <guimenu>Nodes</guimenu>
  </menuchoice> you should see two nodes with a green status (see <xref linkend="fig-ha-inst-quick-two-node-cluster"/>). </para>
 <figure xml:id="fig-ha-inst-quick-two-node-cluster">
  <title>Status of the Two-Node Cluster</title>
  <mediaobject>
   <imageobject>
    <imagedata width="80%" fileref="installquick-two-nodecluster-status.png"/>
   </imageobject>
  </mediaobject>
 </figure>
</section><section xml:id="sec-ha-inst-quick-test"><info><title>Testing the Cluster</title></info>
 
 <para>
  <xref linkend="pro-ha-inst-quick-test"/> is a simple test to check if the
  cluster moves the virtual IP address to the other node in case the node that
  currently runs the resource is set to <literal>standby</literal>. </para>
 <para>However, a realistic test involves specific use cases and scenarios,
  including testing of your fencing mechanism to avoid a split brain situation.
  If you have not set up your fencing mechanism correctly, the cluster will not
  work properly.</para>
 <para>Before using the cluster in a production environment, test it thoroughly
  according to your use cases.
  <!-- toms 2016-08-01: For SP3, refer to the "Testing Cluster Guide" or
     to Lars Pinnes iptable rules
    -->
 </para>
 <remark>toms 2016-07-27: Fate#321073 Tool for Standardize Testing of Basic
  Cluster Functionality</remark>
 <procedure xml:id="pro-ha-inst-quick-test">
  <title>Testing Resource Failover</title>
  <step>
   <para> Open a terminal and ping <systemitem>192.168.2.1</systemitem>, your
    virtual IP address: </para>
   <screen><prompt role="root">root # </prompt><command>ping</command> 192.168.2.1</screen>
  </step>
  <step>
   <para> Log in to your cluster as described in <xref linkend="pro-ha-inst-quick-hawk2-login"/>. </para>
  </step>
  <step>
   <para> In Hawk2 <menuchoice>
     <guimenu>Status</guimenu>
     <guimenu>Resources</guimenu>
    </menuchoice>, check which node the virtual IP address (resource
     <systemitem>admin_addr</systemitem>) is running on. <!--As we did not
      configure any preferences, it will be an arbitrary node.--> We assume
    the resource is running on <systemitem class="server">alice</systemitem>.
   </para>
  </step>
  <step>
   <para> Put <systemitem class="server">alice</systemitem> into
     <guimenu>Standby</guimenu> mode (see <xref linkend="fig-ha-inst-quick-standby"/>). </para>
   <figure xml:id="fig-ha-inst-quick-standby">
    <title>Node <systemitem class="server">alice</systemitem> in Standby
     Mode</title>
    <mediaobject>
     <imageobject>
      <imagedata width="60%" fileref="installquick-standby-node.png"/>
     </imageobject>
    </mediaobject>
   </figure>
   <!--
     <remark>toms 2016-07-18: Should we add an alternative method? I've tested
      it with "crm node standby NODE" to put the node "offline" temporarily.
      Sometimes an administrator doesn't want to go to a server room, so it
      could be more convenient.
     </remark>
     <remark>taroth 2016-07-20: good idea, need to discuss it with krig</remark>-->
  </step>
  <step>
   <para> Click <menuchoice>
     <guimenu>Status</guimenu>
     <guimenu>Resources</guimenu>
    </menuchoice>. The resource <systemitem>admin_addr</systemitem> has been
    migrated to <systemitem class="server">bob</systemitem>. </para>
  </step>
 </procedure>
 <para> During the migration, you should see an uninterrupted flow of pings to
  the virtual IP address. This shows that the cluster setup and the floating IP
  work correctly. Cancel the <command>ping</command> command with <keycombo>
   <keycap function="control"/>
   <keycap>C</keycap>
  </keycombo>. </para>
</section><section xml:id="sec-ha-inst-quick-moreinfo"><info><title>For More Information</title></info>
    
    <para> Find more documentation for this product at <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.suse.com/documentation/sle-ha-12"/>. The
        documentation also includes a comprehensive <citetitle>Administration
            Guide</citetitle> for <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability
            Extension</phrase></phrase>. Refer to it for further configuration
        and administration tasks. </para>
</section><section version="5.0"><info><title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">Legal Notice</title>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 
 
 <para> Copyright© 2006– <?dbtimestamp format="Y"?> SUSE LLC and contributors.
  All rights reserved. </para>
 <para> Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.2 or (at your
  option) version 1.3; with the Invariant Section being this copyright notice
  and license. A copy of the license version 1.2 is included in the section
  entitled <quote>GNU Free Documentation License</quote>. </para>
 <para> For SUSE trademarks, see <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.suse.com/company/legal/"/>. All other third-party
  trademarks are the property of their respective owners. Trademark symbols (®,
  ™ etc.) denote trademarks of SUSE and its affiliates. Asterisks (*) denote
  third-party trademarks. </para>
 <para> All information found in this book has been compiled with utmost
  attention to detail. However, this does not guarantee complete accuracy.
  Neither SUSE LLC, its affiliates, the authors, nor the translators shall be
  held liable for possible errors or the consequences thereof. </para>
</section><appendix version="5.0" role="legal"><info><title>GNU Licenses</title>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>no</dm:translation>
  </dm:docmanager>
 </info>
 
 
 <para> This appendix contains the GNU Free Documentation License version 1.2. </para>
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" role="legal"><info><title>GNU Free Documentation License</title>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>no</dm:translation>
  </dm:docmanager>
 </info>
 
 
 <para> Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc. 51
  Franklin St, Fifth Floor, Boston, MA 02110-1301 USA. Everyone is permitted to
  copy and distribute verbatim copies of this license document, but changing it
  is not allowed. </para>
 <bridgehead renderas="sect1">0. PREAMBLE</bridgehead>
 <para> The purpose of this License is to make a manual, textbook, or other
  functional and useful document "free" in the sense of freedom: to assure
  everyone the effective freedom to copy and redistribute it, with or without
  modifying it, either commercially or noncommercially. Secondarily, this
  License preserves for the author and publisher a way to get credit for their
  work, while not being considered responsible for modifications made by others. </para>
 <para> This License is a kind of "copyleft", which means that derivative works
  of the document must themselves be free in the same sense. It complements the
  GNU General Public License, which is a copyleft license designed for free
  software. </para>
 <para> We have designed this License in order to use it for manuals for free
  software, because free software needs free documentation: a free program
  should come with manuals providing the same freedoms that the software does.
  But this License is not limited to software manuals; it can be used for any
  textual work, regardless of subject matter or whether it is published as a
  printed book. We recommend this License principally for works whose purpose is
  instruction or reference. </para>
 <bridgehead renderas="sect1">1. APPLICABILITY AND DEFINITIONS</bridgehead>
 <para> This License applies to any manual or other work, in any medium, that
  contains a notice placed by the copyright holder saying it can be distributed
  under the terms of this License. Such a notice grants a world-wide,
  royalty-free license, unlimited in duration, to use that work under the
  conditions stated herein. The "Document", below, refers to any such manual or
  work. Any member of the public is a licensee, and is addressed as "you". You
  accept the license if you copy, modify or distribute the work in a way
  requiring permission under copyright law. </para>
 <para> A "Modified Version" of the Document means any work containing the
  Document or a portion of it, either copied verbatim, or with modifications
  and/or translated into another language. </para>
 <para> A "Secondary Section" is a named appendix or a front-matter section of
  the Document that deals exclusively with the relationship of the publishers or
  authors of the Document to the Document's overall subject (or to related
  matters) and contains nothing that could fall directly within that overall
  subject. (Thus, if the Document is in part a textbook of mathematics, a
  Secondary Section may not explain any mathematics.) The relationship could be
  a matter of historical connection with the subject or with related matters, or
  of legal, commercial, philosophical, ethical or political position regarding
  them. </para>
 <para> The "Invariant Sections" are certain Secondary Sections whose titles are
  designated, as being those of Invariant Sections, in the notice that says that
  the Document is released under this License. If a section does not fit the
  above definition of Secondary then it is not allowed to be designated as
  Invariant. The Document may contain zero Invariant Sections. If the Document
  does not identify any Invariant Sections then there are none. </para>
 <para> The "Cover Texts" are certain short passages of text that are listed, as
  Front-Cover Texts or Back-Cover Texts, in the notice that says that the
  Document is released under this License. A Front-Cover Text may be at most 5
  words, and a Back-Cover Text may be at most 25 words. </para>
 <para> A "Transparent" copy of the Document means a machine-readable copy,
  represented in a format whose specification is available to the general
  public, that is suitable for revising the document straightforwardly with
  generic text editors or (for images composed of pixels) generic paint programs
  or (for drawings) some widely available drawing editor, and that is suitable
  for input to text formatters or for automatic translation to a variety of
  formats suitable for input to text formatters. A copy made in an otherwise
  Transparent file format whose markup, or absence of markup, has been arranged
  to thwart or discourage subsequent modification by readers is not Transparent.
  An image format is not Transparent if used for any substantial amount of text.
  A copy that is not "Transparent" is called "Opaque". </para>
 <para> Examples of suitable formats for Transparent copies include plain ASCII
  without markup, Texinfo input format, LaTeX input format, SGML or XML using a
  publicly available DTD, and standard-conforming simple HTML, PostScript or PDF
  designed for human modification. Examples of transparent image formats include
  PNG, XCF and JPG. Opaque formats include proprietary formats that can be read
  and edited only by proprietary word processors, SGML or XML for which the DTD
  and/or processing tools are not generally available, and the machine-generated
  HTML, PostScript or PDF produced by some word processors for output purposes
  only. </para>
 <para> The "Title Page" means, for a printed book, the title page itself, plus
  such following pages as are needed to hold, legibly, the material this License
  requires to appear in the title page. For works in formats which do not have
  any title page as such, "Title Page" means the text near the most prominent
  appearance of the work's title, preceding the beginning of the body of the
  text. </para>
 <para> A section "Entitled XYZ" means a named subunit of the Document whose
  title either is precisely XYZ or contains XYZ in parentheses following text
  that translates XYZ in another language. (Here XYZ stands for a specific
  section name mentioned below, such as "Acknowledgements", "Dedications",
  "Endorsements", or "History".) To "Preserve the Title" of such a section when
  you modify the Document means that it remains a section "Entitled XYZ"
  according to this definition. </para>
 <para> The Document may include Warranty Disclaimers next to the notice which
  states that this License applies to the Document. These Warranty Disclaimers
  are considered to be included by reference in this License, but only as
  regards disclaiming warranties: any other implication that these Warranty
  Disclaimers may have is void and has no effect on the meaning of this License. </para>
 <bridgehead renderas="sect1"> 2. VERBATIM COPYING </bridgehead>
 <para> You may copy and distribute the Document in any medium, either
  commercially or noncommercially, provided that this License, the copyright
  notices, and the license notice saying this License applies to the Document
  are reproduced in all copies, and that you add no other conditions whatsoever
  to those of this License. You may not use technical measures to obstruct or
  control the reading or further copying of the copies you make or distribute.
  However, you may accept compensation in exchange for copies. If you distribute
  a large enough number of copies you must also follow the conditions in section
  3. </para>
 <para> You may also lend copies, under the same conditions stated above, and
  you may publicly display copies. </para>
 <bridgehead renderas="sect1"> 3. COPYING IN QUANTITY </bridgehead>
 <para> If you publish printed copies (or copies in media that commonly have
  printed covers) of the Document, numbering more than 100, and the Document's
  license notice requires Cover Texts, you must enclose the copies in covers
  that carry, clearly and legibly, all these Cover Texts: Front-Cover Texts on
  the front cover, and Back-Cover Texts on the back cover. Both covers must also
  clearly and legibly identify you as the publisher of these copies. The front
  cover must present the full title with all words of the title equally
  prominent and visible. You may add other material on the covers in addition.
  Copying with changes limited to the covers, as long as they preserve the title
  of the Document and satisfy these conditions, can be treated as verbatim
  copying in other respects. </para>
 <para> If the required texts for either cover are too voluminous to fit
  legibly, you should put the first ones listed (as many as fit reasonably) on
  the actual cover, and continue the rest onto adjacent pages. </para>
 <para> If you publish or distribute Opaque copies of the Document numbering
  more than 100, you must either include a machine-readable Transparent copy
  along with each Opaque copy, or state in or with each Opaque copy a
  computer-network location from which the general network-using public has
  access to download using public-standard network protocols a complete
  Transparent copy of the Document, free of added material. If you use the
  latter option, you must take reasonably prudent steps, when you begin
  distribution of Opaque copies in quantity, to ensure that this Transparent
  copy will remain thus accessible at the stated location until at least one
  year after the last time you distribute an Opaque copy (directly or through
  your agents or retailers) of that edition to the public. </para>
 <para> It is requested, but not required, that you contact the authors of the
  Document well before redistributing any large number of copies, to give them a
  chance to provide you with an updated version of the Document. </para>
 <bridgehead renderas="sect1"> 4. MODIFICATIONS </bridgehead>
 <para> You may copy and distribute a Modified Version of the Document under the
  conditions of sections 2 and 3 above, provided that you release the Modified
  Version under precisely this License, with the Modified Version filling the
  role of the Document, thus licensing distribution and modification of the
  Modified Version to whoever possesses a copy of it. In addition, you must do
  these things in the Modified Version: </para>
 <orderedlist numeration="upperalpha" spacing="normal">
  <listitem>
   <para> Use in the Title Page (and on the covers, if any) a title distinct
    from that of the Document, and from those of previous versions (which
    should, if there were any, be listed in the History section of the
    Document). You may use the same title as a previous version if the original
    publisher of that version gives permission. </para>
  </listitem>
  <listitem>
   <para> List on the Title Page, as authors, one or more persons or entities
    responsible for authorship of the modifications in the Modified Version,
    together with at least five of the principal authors of the Document (all of
    its principal authors, if it has fewer than five), unless they release you
    from this requirement. </para>
  </listitem>
  <listitem>
   <para> State on the Title page the name of the publisher of the Modified
    Version, as the publisher. </para>
  </listitem>
  <listitem>
   <para> Preserve all the copyright notices of the Document. </para>
  </listitem>
  <listitem>
   <para> Add an appropriate copyright notice for your modifications adjacent to
    the other copyright notices. </para>
  </listitem>
  <listitem>
   <para> Include, immediately after the copyright notices, a license notice
    giving the public permission to use the Modified Version under the terms of
    this License, in the form shown in the Addendum below. </para>
  </listitem>
  <listitem>
   <para> Preserve in that license notice the full lists of Invariant Sections
    and required Cover Texts given in the Document's license notice. </para>
  </listitem>
  <listitem>
   <para> Include an unaltered copy of this License. </para>
  </listitem>
  <listitem>
   <para> Preserve the section Entitled "History", Preserve its Title, and add
    to it an item stating at least the title, year, new authors, and publisher
    of the Modified Version as given on the Title Page. If there is no section
    Entitled "History" in the Document, create one stating the title, year,
    authors, and publisher of the Document as given on its Title Page, then add
    an item describing the Modified Version as stated in the previous sentence.
   </para>
  </listitem>
  <listitem>
   <para> Preserve the network location, if any, given in the Document for
    public access to a Transparent copy of the Document, and likewise the
    network locations given in the Document for previous versions it was based
    on. These may be placed in the "History" section. You may omit a network
    location for a work that was published at least four years before the
    Document itself, or if the original publisher of the version it refers to
    gives permission. </para>
  </listitem>
  <listitem>
   <para> For any section Entitled "Acknowledgements" or "Dedications", Preserve
    the Title of the section, and preserve in the section all the substance and
    tone of each of the contributor acknowledgements and/or dedications given
    therein. </para>
  </listitem>
  <listitem>
   <para> Preserve all the Invariant Sections of the Document, unaltered in
    their text and in their titles. Section numbers or the equivalent are not
    considered part of the section titles. </para>
  </listitem>
  <listitem>
   <para> Delete any section Entitled "Endorsements". Such a section may not be
    included in the Modified Version. </para>
  </listitem>
  <listitem>
   <para> Do not retitle any existing section to be Entitled "Endorsements" or
    to conflict in title with any Invariant Section. </para>
  </listitem>
  <listitem>
   <para> Preserve any Warranty Disclaimers. </para>
  </listitem>
 </orderedlist>
 <para> If the Modified Version includes new front-matter sections or appendices
  that qualify as Secondary Sections and contain no material copied from the
  Document, you may at your option designate some or all of these sections as
  invariant. To do this, add their titles to the list of Invariant Sections in
  the Modified Version's license notice. These titles must be distinct from any
  other section titles. </para>
 <para> You may add a section Entitled "Endorsements", provided it contains
  nothing but endorsements of your Modified Version by various parties--for
  example, statements of peer review or that the text has been approved by an
  organization as the authoritative definition of a standard. </para>
 <para> You may add a passage of up to five words as a Front-Cover Text, and a
  passage of up to 25 words as a Back-Cover Text, to the end of the list of
  Cover Texts in the Modified Version. Only one passage of Front-Cover Text and
  one of Back-Cover Text may be added by (or through arrangements made by) any
  one entity. If the Document already includes a cover text for the same cover,
  previously added by you or by arrangement made by the same entity you are
  acting on behalf of, you may not add another; but you may replace the old one,
  on explicit permission from the previous publisher that added the old one. </para>
 <para> The author(s) and publisher(s) of the Document do not by this License
  give permission to use their names for publicity for or to assert or imply
  endorsement of any Modified Version. </para>
 <bridgehead renderas="sect1"> 5. COMBINING DOCUMENTS </bridgehead>
 <para> You may combine the Document with other documents released under this
  License, under the terms defined in section 4 above for modified versions,
  provided that you include in the combination all of the Invariant Sections of
  all of the original documents, unmodified, and list them all as Invariant
  Sections of your combined work in its license notice, and that you preserve
  all their Warranty Disclaimers. </para>
 <para> The combined work need only contain one copy of this License, and
  multiple identical Invariant Sections may be replaced with a single copy. If
  there are multiple Invariant Sections with the same name but different
  contents, make the title of each such section unique by adding at the end of
  it, in parentheses, the name of the original author or publisher of that
  section if known, or else a unique number. Make the same adjustment to the
  section titles in the list of Invariant Sections in the license notice of the
  combined work. </para>
 <para> In the combination, you must combine any sections Entitled "History" in
  the various original documents, forming one section Entitled "History";
  likewise combine any sections Entitled "Acknowledgements", and any sections
  Entitled "Dedications". You must delete all sections Entitled "Endorsements". </para>
 <bridgehead renderas="sect1"> 6. COLLECTIONS OF DOCUMENTS </bridgehead>
 <para> You may make a collection consisting of the Document and other documents
  released under this License, and replace the individual copies of this License
  in the various documents with a single copy that is included in the
  collection, provided that you follow the rules of this License for verbatim
  copying of each of the documents in all other respects. </para>
 <para> You may extract a single document from such a collection, and distribute
  it individually under this License, provided you insert a copy of this License
  into the extracted document, and follow this License in all other respects
  regarding verbatim copying of that document. </para>
 <bridgehead renderas="sect1"> 7. AGGREGATION WITH INDEPENDENT WORKS </bridgehead>
 <para> A compilation of the Document or its derivatives with other separate and
  independent documents or works, in or on a volume of a storage or distribution
  medium, is called an "aggregate" if the copyright resulting from the
  compilation is not used to limit the legal rights of the compilation's users
  beyond what the individual works permit. When the Document is included in an
  aggregate, this License does not apply to the other works in the aggregate
  which are not themselves derivative works of the Document. </para>
 <para> If the Cover Text requirement of section 3 is applicable to these copies
  of the Document, then if the Document is less than one half of the entire
  aggregate, the Document's Cover Texts may be placed on covers that bracket the
  Document within the aggregate, or the electronic equivalent of covers if the
  Document is in electronic form. Otherwise they must appear on printed covers
  that bracket the whole aggregate. </para>
 <bridgehead renderas="sect1"> 8. TRANSLATION </bridgehead>
 <para> Translation is considered a kind of modification, so you may distribute
  translations of the Document under the terms of section 4. Replacing Invariant
  Sections with translations requires special permission from their copyright
  holders, but you may include translations of some or all Invariant Sections in
  addition to the original versions of these Invariant Sections. You may include
  a translation of this License, and all the license notices in the Document,
  and any Warranty Disclaimers, provided that you also include the original
  English version of this License and the original versions of those notices and
  disclaimers. In case of a disagreement between the translation and the
  original version of this License or a notice or disclaimer, the original
  version will prevail. </para>
 <para> If a section in the Document is Entitled "Acknowledgements",
  "Dedications", or "History", the requirement (section 4) to Preserve its Title
  (section 1) will typically require changing the actual title. </para>
 <bridgehead renderas="sect1"> 9. TERMINATION </bridgehead>
 <para> You may not copy, modify, sublicense, or distribute the Document except
  as expressly provided for under this License. Any other attempt to copy,
  modify, sublicense or distribute the Document is void, and will automatically
  terminate your rights under this License. However, parties who have received
  copies, or rights, from you under this License will not have their licenses
  terminated so long as such parties remain in full compliance. </para>
 <bridgehead renderas="sect1"> 10. FUTURE REVISIONS OF THIS LICENSE </bridgehead>
 <para> The Free Software Foundation may publish new, revised versions of the
  GNU Free Documentation License from time to time. Such new versions will be
  similar in spirit to the present version, but may differ in detail to address
  new problems or concerns. See <link xlink:href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</link>. </para>
 <para> Each version of the License is given a distinguishing version number. If
  the Document specifies that a particular numbered version of this License "or
  any later version" applies to it, you have the option of following the terms
  and conditions either of that specified version or of any later version that
  has been published (not as a draft) by the Free Software Foundation. If the
  Document does not specify a version number of this License, you may choose any
  version ever published (not as a draft) by the Free Software Foundation. </para>
 <bridgehead renderas="sect1"> ADDENDUM: How to use this License for your
  documents </bridgehead>
 <screen>
   Copyright (c) YEAR YOUR NAME.
   Permission is granted to copy, distribute and/or modify this document
   under the terms of the GNU Free Documentation License, Version 1.2
   or any later version published by the Free Software Foundation;
   with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
   A copy of the license is included in the section entitled “GNU
   Free Documentation License”.
  </screen>
 <para> If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
  replace the “with...Texts.” line with this: </para>
 <screen>
   with the Invariant Sections being LIST THEIR TITLES, with the
   Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.
  </screen>
 <para> If you have Invariant Sections without Cover Texts, or some other
  combination of the three, merge those two alternatives to suit the situation. </para>
 <para> If your document contains nontrivial examples of program code, we
  recommend releasing these examples in parallel under your choice of free
  software license, such as the GNU General Public License, to permit their use
  in free software. </para>
</sect1></appendix></article>
